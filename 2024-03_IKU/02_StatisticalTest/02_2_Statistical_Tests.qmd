---
title: "Statistical Tests in R"
subtitle: "Kursus R: Pengenalan dan Praktikal (Sesi 2)"
format: 
  clean-revealjs: 
    slide-number: true
    lightbox: true
    auto-stretch: false
    footer: "Statistical Tests in R"
author:
  - name: Mohd Azmi Bin Suliman
    orcid: 0000-0002-2125-3811
    email: azmi.suliman@moh.gov.my
    affiliations: Pusat Penyelidikan Penyakit Tak Berjangkit, Institut Kesihatan Umum
date: 2024-03-06
date-format: "dddd, DD MMMM YYYY"
embed-resources: true
execute: 
  echo: true
---

# Statistical Tests in R: Descriptive Analysis

```{css}
code.sourceCode {
  font-size: 1.2em;
}
```

## Descriptive Analysis

-   Descriptive analysis refers to summarizing and describing the main features of a dataset.
-   Count and percentage for categorical data.
-   Mean, median, standard deviation, and range for numerical data.
-   Data visualisation also part of descriptive analysis.

## Descriptive Analysis

-   There are many ways to perform descriptive analysis in R.
-   We can use base function, or commonly people use tidyverse package for descriptive analysis.
-   In this session, I want to introduce `summarytools` and `gtsummary`package for descriptive analysis.
    -   Easier to use
    -   More informative.
    -   Nicer outcome (especially when render the Quarto document!)

# Lets Try!

Setup your project & quarto document.

## Create New Project

-   Remember last week? RStudio allows for project management.
    -   Project as 'container' for our work.

1.  Open RStudio.
2.  Create a new project.
    -   `File` \> `New Project` \> `New Directory` \> `New Project`
3.  Set the name and directory
    -   Name: `Statistical Tests in R`
    -   Directory: `.../Documents/RStudio`
4.  Click `Create Project`

## Create New Project

![](images/New_Project.png)

## Create New Quarto Document

Quarto as R Notebook.

1.  Create new Quarto document
    -   `File` \> `New File` \> `Quarto Document...`
2.  Set the title
    -   Title: `Statistical Tests in R`
    -   Untick `Use visual editor`
3.  Click `Create Empty Document`
4.  Edit the YAML
    -   add `embed-resources: true` parameter

## Create New Quarto Document

![](images/New_Qmd.png)


## Import Dataset

1.  Copy the dataset `asthmads_clean.sav` into the working directory.
    -   Download the dataset from Google Drive folder.
    -   Open folder that the dataset downloaded to.
    -   Copy the dataset.
    -   Open your working directory
    -   `File` pane \> `⚙️ More` \> `Show Folder in New Window`
    -   Paste the dataset into the working directory
2.  In the Quarto document, add a new level 1 header & levl 2 header
    -   `# Preparation`
    -   `## Data Import`

## Import Dataset

3.  Import the dataset. We will use `asthmads_clean.sav` dataset
    -   `File` \> `Import Dataset` \> `From SPSS...`
    -   Select the dataset `asthmads_clean.sav`
    -   Click `Open`
    -   Untick `Open Data Viewer`
    -   Click clipboard symbol 📋

## Import Dataset

![](images/Import_Dataset.png)

## Import Dataset

4.  Paste the code into r chunk
5.  Use `as_factor` function to read the label and apply to the dataset
    -   We can use %\>% pipe operator to use `as_factor` function
    -   Don't forget to load `tidyverse` package first

```{r}
library(tidyverse)
library(haven)
asthmads_clean <- read_sav("asthmads_clean.sav") %>% 
  as_factor()
```

## Import Dataset

```{r}
asthmads_clean
```


# Lets Try!

Descriptive Analysis

## Descriptive Analysis with gtsummary

-   Load `summarytools` package
-   Note: *gtsummary* package will be used later.


```{r}
library(summarytools)
```


## Descriptive Analysis: Categorical Variables

-   Count and percentage for categorical data.

```{r}
asthmads_clean %>% 
  freq(Gender)
```

## Descriptive Analysis: Categorical Variables

-   We can also summarise multiple variables at once.

```{r}
asthmads_clean %>% 
  select(where(is.factor)) %>% 
  freq()
```

## Descriptive Analysis: Numerical Variables

-   Mean, median, standard deviation, and range for numerical data.

```{r}
asthmads_clean %>%
  descr(Height)
```

## Descriptive Analysis: Numerical Variables

-   similarly, we can also summarise multiple variables at once.

```{r}
asthmads_clean %>% 
  select(where(is.numeric)) %>%
  descr()
```

## Descriptive Analysis: Data Frame Summaries

-   `summarytools` also provide whole data frame summaries, via `dfSummary` function.
-   Need to use `stview` function to view the summary.


```{r}
#| eval: false

asthmads_clean %>% 
  dfSummary() %>% 
  stview()
```



