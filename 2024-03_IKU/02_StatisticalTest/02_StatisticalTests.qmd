---
title: "Statistical Tests in R"
subtitle: "Kursus R: Pengenalan dan Praktikal"
format: 
  clean-revealjs: 
    slide-number: true
    lightbox: true
    auto-stretch: false
    footer: "Statistical Tests in R"
author:
  - name: Mohd Azmi Bin Suliman
    orcid: 0000-0002-2125-3811
    email: azmi.suliman@moh.gov.my
    affiliations: Pusat Penyelidikan Penyakit Tak Berjangkit, Institut Kesihatan Umum
date: 2024-03-06
date-format: "dddd, DD MMMM YYYY"
embed-resources: true
execute: 
  echo: true
---

# Recap Session 1

```{r}
#| label: setup
#| echo: false

pacman::p_load(tidyverse, kableExtra)
```

## Recap Session 1

-   What we have learn previously?

```{r}
#| echo: false

tibble(Topic = c("R", 
                 "RStudio",
                 "Project (I)", 
                 "Project (II)", 
                 "Quarto"), 
       "Explaination/Example" = c("A programming languange for statistical computing and graphic", 
                                  "An IDE for R", 
                                  "'Container' for R project",
                                  "Always start with blank slate, save everything in notebook", 
                                  "Publishing system, but used for Notebook")) %>% 
  mutate(No = row_number(), .before = Topic) %>% 
  kbl() %>% 
  kable_classic()
```

## Recap Session 1

-   What we have learn previously?

```{r}
#| echo: false

tibble(Topic = c("Object in R", 
                 "Data Modes", 
                 "Data Structure",
                 "Operators", 
                 "Functions"), 
       "Explaination/Example" = c("Almost everything in R is an object", 
                                  "Numeric, Character, Logical", 
                                  "value, vector, list, matrix, DATA FRAME", 
                                  "Arithmetic (+-), Assignment (<-), Relational (>=), Special (%>%)", 
                                  "Command to perform specific task, e.g. sqrt(4)")) %>% 
  mutate(No = row_number()+5, .before = Topic) %>% 
  kbl() %>% 
  kable_classic()
```

## Recap Session 1

-   What we have learn previously?

```{r}
#| echo: false

tibble(Topic = c("Packages",
                 "Data Wrangling", 
                 "Tidyverse (I)", 
                 "Tidyverse (II)"), 
       "Explaination/Example" = c("Set of functions and data. Can be installed and loaded",
                                  "Data cleaning and transformation activities", 
                                  "Collection of Packages with 'tidy' philosophy", 
                                  "mutate() for new variable and %>% pipe operator")) %>% 
  mutate(No = row_number()+10, .before = Topic) %>% 
  kbl() %>% 
  kable_classic()
```

# Before we go further...

Gettting help in R

## Getting Help in R

-   When learning R (or even using R), error is **common**.
-   Easiest is by using `?` or `help()` function.

```{r}
#| eval: false

?tibble
```

## Getting Help in R

-   Some package also have their own documentation.
-   These documentations were called `vignette`.
-   The vignette usually hosted in CRAN or package website.
-   For example, `tidyverse` package have their own vignette
    -   We can google the term "tidyverse CRAN" and find the vignette.

## Getting Help in R

[![](images/CRAN_tidyverse.png)](https://cran.r-project.org/web/packages/tidyverse/index.html)

## Getting Help in R

Some package have nice website for their documentation.



# Statistical Tests in R: Descriptive Analysis

## Descriptive Analysis

-   Descriptive analysis refers to summarizing and describing the main features of a dataset.
-   Count and percentage for categorical data.
-   Mean, median, standard deviation, and range for numerical data.
-   Data visualisation also part of descriptive analysis.

## Descriptive Analysis

-   There are many ways to perform descriptive analysis in R.
-   We can use base function, or commonly people use tidyverse package for descriptive analysis.
-   In this session, I want to introduce `gtsummary` package for descriptive analysis.
    -   Easier to use
    -   More informative.
    -   Nicer outcome (especially when render the Quarto document!)

# Lets Try!

Setup your project & quarto document.

## Create New Project

-   Remember last week? RStudio allows for project management.
    -   Project as 'container' for our work.

1.  Open RStudio.
2.  Create a new project.
    -   `File` \> `New Project` \> `New Directory` \> `New Project`
3.  Set the name and directory
    -   Name: `Statistical Tests in R`
    -   Directory: `.../Documents/RStudio`
4.  Click `Create Project`

## Create New Project

![](images/New_Project.png)

## Create New Quarto Document

Quarto as R Notebook.

1.  Create new Quarto document
    -   `File` \> `New File` \> `Quarto Document...`
2.  Set the title
    -   Title: `Statistical Tests in R`
    -   Untick `Use visual editor`
3.  Click `Create Empty Document`
4.  Edit the YAML
    -   add `embed-resources: true` parameter

## Create New Quarto Document

![](images/New_Qmd.png)

## Import Dataset

1.  Copy the dataset `asthmads_clean.sav` into the working directory.
    -   Download the dataset from Google Drive folder.
    -   Open folder that the dataset downloaded to.
    -   Copy the dataset.
    -   Open your working directory
    -   `File` pane \> `⚙️ More` \> `Show Folder in New Window`
    -   Paste the dataset into the working directory
2.  In the Quarto document, add a new level 1 header & levl 2 header
    -   `# Preparation`
    -   `## Data Import`

## Import Dataset

3.  Import the dataset. We will use `asthmads_clean.sav` dataset
    -   `File` \> `Import Dataset` \> `From SPSS...`
    -   Select the dataset `asthmads_clean.sav`
    -   Click `Open`
    -   Untick `Open Data Viewer`
    -   Click clipboard symbol 📋

## Import Dataset

![](images/Import_Dataset.png)

## Import Dataset

4.  Paste the code into r chunk
5.  Use `as_factor` function to read the label and apply to the dataset
    -   We can use %\>% pipe operator to use `as_factor` function
    -   Don't forget to load `tidyverse` package first

```{r}
library(tidyverse)
library(haven)
asthmads_clean <- read_sav("asthmads_clean.sav") %>% 
  as_factor()
```

## Import Dataset

```{r}
asthmads_clean
```

# Lets Try!

Descriptive Analysis

## Descriptive Analysis: Categorical Variables
